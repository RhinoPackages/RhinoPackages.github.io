(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5017:function(e,r,t){Promise.resolve().then(t.bind(t,1872))},9391:function(e,r,t){"use strict";t.d(r,{Gt:function(){return i},e$:function(){return o},h_:function(){return d},x$:function(){return a}});var n,a,s=t(2265);let i=25;(n=a||(a={}))[n.None=0]="None",n[n.Windows=1]="Windows",n[n.Mac=2]="Mac",n[n.Rhino=4]="Rhino",n[n.Grasshopper=8]="Grasshopper",n[n.Rhino6=16]="Rhino6",n[n.Rhino7=32]="Rhino7",n[n.Rhino8=64]="Rhino8";class l{static loading(){return new l("loading")}static idle(){return new l("idle")}get isLoading(){return"loading"===this.message}get isIdle(){return"idle"===this.message}get isError(){return!this.isIdle&&!this.isLoading}constructor(e){this.message=e}}function o(e,r){return e===(r.filters&e)}function d(){let[e,r]=(0,s.useState)([]),[t,n]=(0,s.useState)(l.idle());return(0,s.useEffect)(()=>{(async()=>{n(l.loading());try{let e=await fetch("/data.json");if(!e.ok){let r=await e.text();throw Error(r||e.statusText)}let t=await e.json();r(t),n(l.idle())}catch(e){n(new l(e instanceof Error?e.message:String(e)))}})()},[]),{cache:e,status:t}}},1872:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return G}});var n,a,s=t(7437),i=t(2265),l=t(617),o=t(3779),d=t(4033),c=t(9391);(n=a||(a={}))[n.Downloads=0]="Downloads",n[n.Date=1]="Date",n[n.Trending=2]="Trending";let x={owner:void 0,search:"",filters:c.x$.None,sort:2,page:0,p:void 0},g=(0,i.createContext)({});function h(){return(0,i.useContext)(g)}function m(e){let{children:r}=e,t=(0,d.useSearchParams)(),n=(0,d.useRouter)(),{cache:a,status:l}=(0,c.h_)(),[o,h]=(0,i.useState)(x),m=e=>{let r={...o,...e};void 0===e.page&&(r.page=0),h(r),n.push("/".concat(function(e){let r=new URLSearchParams;for(let[t,n]of Object.entries(e))n&&r.append(t,n.toString());let t=r.toString();return t?"?".concat(t):""}(r)),{scroll:!1})},u=(0,i.useMemo)(()=>{let e=function(e){var r;function t(r,t){var n;let a=parseInt(null!==(n=e.get(r))&&void 0!==n?n:"")||t;return a<0&&(a=t),a}let n=t("owner",NaN)||void 0,a=null!==(r=e.get("search"))&&void 0!==r?r:"";a.length<3&&(a="");let s=t("filters",c.x$.None);return{owner:n,search:a,filters:s,sort:t("sort",2),page:t("page",0),p:e.get("p")||void 0}}(t);return h(e),function(e,r){let{owner:t,search:n,filters:a,sort:s,page:i}=r;if(void 0!==t&&(e=e.filter(e=>e.owners.map(e=>e.id).includes(t))),n){let r=n.toLowerCase();e=e.filter(e=>e.id.toLowerCase().includes(r)||e.keywords.toLowerCase().includes(r)||e.description.toLowerCase().includes(r))}if(a!==c.x$.None&&(e=e.filter(e=>(0,c.e$)(a,e))),1===s)e=e.sort((e,r)=>e.updated<r.updated?1:-1);else if(2===s){let r=Date.now(),t=e=>{let t=(r-new Date(e.updated).getTime())/864e5;return e.downloads/Math.pow(Math.max(1,t),1.5)};e=e.sort((e,r)=>t(e)<t(r)?1:-1)}else e=e.sort((e,r)=>e.downloads<r.downloads?1:-1);return e.slice(0,(i+1)*c.Gt)}(null!=a?a:[],e)},[a,t]),p=(0,i.useMemo)(()=>{let e=new Set,r=[];for(let t of a)for(let n of t.owners)e.has(n.id)||(e.add(n.id),r.push(n));return r.sort((e,r)=>e.id-r.id)},[a]),f=(0,i.useMemo)(()=>{var e;let r=0,t=0,n=Date.now();for(let e of null!=a?a:[])r+=e.downloads,(n-new Date(e.updated).getTime())/864e5<=30&&t++;return{totalPackages:null!==(e=null==a?void 0:a.length)&&void 0!==e?e:0,totalDownloads:r,recentUpdates:t}},[a]);return(0,s.jsx)(g.Provider,{value:{packages:u,owners:p,status:l,controls:o,stats:f,navigate:m,navigateFilter:(e,r)=>{m({filters:r?o.filters|e:o.filters&~e})},setSearch:e=>{h({...o,search:e})}},children:r})}var u=t(6691),p=t.n(u),f=t(7682),b=t(8682),v=t(8377),w=t(2509),j=t(9175),k=t(5472),y=t(6936);function N(){var e,r,t,n;let{controls:a,packages:i,navigate:l,stats:o,status:d}=h(),x=null!==(e=a.p)&&void 0!==e?e:null,g=0===i.length||0===a.page&&i.length!==c.Gt;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"mt-4 mb-4 flex flex-col items-start justify-between gap-4 rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-900 md:flex-row md:items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-100",children:"Packages Directory"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:d.isLoading?"Loading packages...":0===i.length?"No packages found matching your criteria.":"Showing page ".concat(a.page+1)})]}),(0,s.jsxs)("div",{className:"hidden divide-x divide-gray-200 text-sm dark:divide-zinc-800 md:flex",children:[(0,s.jsxs)("div",{className:"flex flex-col pr-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Total Packages"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-zinc-100",children:null!==(r=null==o?void 0:o.totalPackages.toLocaleString())&&void 0!==r?r:"-"})]}),(0,s.jsxs)("div",{className:"flex flex-col px-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Total Downloads"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-zinc-100",children:null!==(t=null==o?void 0:o.totalDownloads.toLocaleString())&&void 0!==t?t:"-"})]}),(0,s.jsxs)("div",{className:"flex flex-col pl-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Updated Monthly"}),(0,s.jsx)("span",{className:"font-semibold text-brand-600 dark:text-brand-400",children:null!==(n=null==o?void 0:o.recentUpdates.toLocaleString())&&void 0!==n?n:"-"})]})]})]}),(0,s.jsx)("ul",{role:"list",className:"flex flex-grow flex-col gap-5",children:i.map(e=>(0,s.jsx)(R,{pkg:e,isExpanded:x===e.id,onToggle:()=>l({p:x===e.id?void 0:e.id})},e.id))}),!g&&(0,s.jsx)(z,{onIntersect:()=>l({page:a.page+1})})]})}function z(e){let{onIntersect:r}=e,[t,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),{controls:o,packages:d}=h(),x=d.length>=(o.page+1)*c.Gt;return(0,i.useEffect)(()=>{if(!t||a||!x)return;let e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&(l(!0),r(),setTimeout(()=>l(!1),1500))},{threshold:.1,rootMargin:"100px"});return e.observe(t),()=>e.disconnect()},[t,r,a,x,o.page]),(0,s.jsx)("div",{ref:n,className:"h-10 w-full"})}function R(e){let{pkg:r,isExpanded:t,onToggle:n}=e,{navigate:a}=h(),[l,o]=(0,i.useState)(null),[d,x]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[u,N]=(0,i.useState)(!1);function z(e){return e===(r.filters&e)}(0,i.useEffect)(()=>{t&&null===l&&(x(!0),fetch("./data/versions/".concat(r.id,".json")).then(e=>{if(!e.ok)throw Error("History not found");return e.json()}).then(e=>{o(e)}).catch(e=>{console.warn("Could not load history for ".concat(r.id,":"),e)}).finally(()=>x(!1)))},[t,r.id,l]);let R=r.homepageUrl?r.homepageUrl:"#";R.startsWith("http")||(R="//"+R);let C="rhino://package/search?name=".concat(r.id),$=r.keywords?r.keywords.split(",").map(e=>e.trim()):void 0,V=new Date(r.updated).toLocaleDateString(),D=r.downloads.toLocaleString(),L=function(e){let r=Math.floor((new Date().getTime()-e.getTime())/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?"".concat(r," days ago"):r<30?"".concat(Math.floor(r/7)," week").concat(Math.floor(r/7)>1?"s":""," ago"):r<365?"".concat(Math.floor(r/30)," month").concat(Math.floor(r/30)>1?"s":""," ago"):"".concat(Math.floor(r/365)," year").concat(Math.floor(r/365)>1?"s":""," ago")}(new Date(r.updated)),T=l?function(e){let r=new Map;for(let t of e){let e=function(e){let r=Array.from(new Set(e.distributions.map(e=>{let r=e.rhinoVersion.match(/^rh(\d+)_/);return r?Number(r[1]):null}).filter(e=>null!==e))),t=e.version.split("."),n=Number(t[t.length-1]);return{baseVersion:t.length>1&&Number.isInteger(n)&&1===r.length&&n===r[0]?t.slice(0,-1).join("."):e.version}}(t),n="".concat(e.baseVersion,"__").concat(t.prerelease?"pre":"stable"),a=r.get(n);if(!a){for(let a of(r.set(n,{createdAt:t.createdAt,version:e.baseVersion,installVersion:t.version,installVersionByRhino:new Map,distributions:[...t.distributions],prerelease:t.prerelease,versions:new Set([t.version])}),t.distributions))r.get(n).installVersionByRhino.set(a.rhinoVersion,t.version);continue}for(let e of(new Date(t.createdAt).getTime()>new Date(a.createdAt).getTime()&&(a.createdAt=t.createdAt),t.distributions)){a.distributions.some(r=>r.url===e.url)||a.distributions.push(e);let r=a.installVersionByRhino.get(e.rhinoVersion);(!r||function(e,r){let t=e.split(".").map(e=>Number(e)),n=r.split(".").map(e=>Number(e)),a=Math.max(t.length,n.length);for(let e=0;e<a;e++){let r=Number.isFinite(t[e])?t[e]:0,a=Number.isFinite(n[e])?n[e]:0;if(r!==a)return r-a}return 0}(t.version,r)>0)&&a.installVersionByRhino.set(e.rhinoVersion,t.version)}a.versions.add(t.version)}return Array.from(r.values()).map(e=>({createdAt:e.createdAt,version:e.version,installVersion:1===e.versions.size?e.installVersion:null,installVersionByRhino:e.installVersionByRhino,distributions:e.distributions,prerelease:e.prerelease})).sort((e,r)=>new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime())}(l.filter(e=>g||!e.prerelease)):[];return(0,s.jsxs)("li",{className:"group flex flex-col overflow-hidden rounded-xl border bg-white shadow-sm transition-all duration-300 dark:bg-zinc-900/40 md:p-6 ".concat(t?"border-brand-300 shadow-md dark:border-brand-700 dark:bg-zinc-900/80":"border-gray-200 hover:-translate-y-1 hover:border-brand-300 hover:shadow-md dark:border-zinc-800 dark:hover:border-brand-700 dark:hover:bg-zinc-900/80"," p-4"),children:[(0,s.jsxs)("div",{className:"mb-2 flex cursor-pointer flex-col gap-2 md:flex-row md:gap-0",onClick:n,children:[(0,s.jsxs)("div",{className:"flex flex-grow gap-x-4",children:[(0,s.jsx)(p(),{className:"h-[2.5rem] w-[2.5rem]",src:r.iconUrl,width:40,height:40,alt:"Package icon"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:r.id}),r.prerelease&&(0,s.jsx)("span",{className:"rounded-full bg-yellow-50 px-2 py-1 text-[0.65rem] font-bold uppercase leading-none tracking-wider text-yellow-800 ring-1 ring-inset ring-yellow-600/20 dark:bg-yellow-900/30 dark:text-yellow-400 dark:ring-yellow-500/20",children:"wip"}),(0,s.jsxs)("p",{className:"whitespace-nowrap text-xs font-semibold text-gray-500 dark:text-zinc-400",children:["v",r.version]})]}),(0,s.jsx)("div",{className:"mt-1 flex items-center",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-1 whitespace-nowrap",children:[(0,s.jsx)(f.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),r.owners.map((e,t)=>(0,s.jsxs)("button",{onClick:r=>{r.stopPropagation(),a({owner:e.id})},className:"text-xs text-gray-600 transition-colors hover:text-brand-600 dark:text-zinc-400 dark:hover:text-brand-400",children:[e.name,t<r.owners.length-1?",":""]},e.id))]})})]})]}),(0,s.jsxs)("div",{className:"flex w-full flex-shrink-0 flex-grow-0 justify-between md:w-auto md:justify-end",children:[(0,s.jsxs)("div",{className:"items-top mt-1 flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(M,{isEnabled:z(c.x$.Windows),src:"/icons/win.svg",alt:"Windows"}),(0,s.jsx)(M,{isEnabled:z(c.x$.Mac),src:"/icons/mac.svg",alt:"Mac"})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(M,{isEnabled:z(c.x$.Rhino6),src:"/icons/rhino6.png",alt:"Rhino 6"}),(0,s.jsx)(M,{isEnabled:z(c.x$.Rhino7),src:"/icons/rhino7.png",alt:"Rhino 7"}),(0,s.jsx)(M,{isEnabled:z(c.x$.Rhino8),src:"/icons/rhino8.png",alt:"Rhino 8"})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(M,{isEnabled:z(c.x$.Rhino),src:"/icons/rhp.png",alt:"Rhino plugin"}),(0,s.jsx)(M,{isEnabled:z(c.x$.Grasshopper),src:"/icons/gha.png",alt:"Grasshopper plugin"})]})]}),(0,s.jsxs)("div",{className:"ml-4 flex flex-col items-end justify-start gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(b.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-zinc-400",children:D})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(v.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-zinc-400",children:V})]}),(0,s.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation();let t=new URL(window.location.href);t.searchParams.set("p",r.id),navigator.clipboard.writeText(t.toString()),N(!0),setTimeout(()=>N(!1),2e3)},title:"Copy Link",className:"mt-0.5 flex items-center gap-1 transition-all ".concat(u?"text-green-600 dark:text-green-400":"text-gray-400 hover:text-gray-600 dark:text-zinc-500 dark:hover:text-zinc-300"),children:[(0,s.jsx)(w.Z,{className:"h-3.5 w-3.5"}),u&&(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase",children:"Copied!"})]})]}),(0,s.jsx)(j.Z,{className:"ml-4 mt-1 h-5 w-5 flex-shrink-0 text-gray-400 transition-transform duration-300 dark:text-zinc-500 ".concat(t?"rotate-180":"")})]})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-start gap-4 md:gap-6",children:[(0,s.jsx)("p",{className:"break-long-words flex-grow whitespace-pre-line text-sm leading-relaxed text-gray-700 dark:text-zinc-300",children:r.description}),(0,s.jsxs)("a",{href:C,className:"hidden items-center gap-1.5 whitespace-nowrap rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-all hover:bg-gray-50 hover:shadow active:bg-gray-200 dark:bg-zinc-800 dark:text-zinc-100 dark:ring-zinc-700 dark:hover:bg-zinc-700 dark:active:bg-zinc-600 md:flex",children:[(0,s.jsx)(k.Z,{className:"h-4 w-4 text-gray-500 dark:text-zinc-400"}),"Install"]})]}),$&&$.length>0&&""!==$[0]&&(0,s.jsx)("div",{className:"mt-4 flex flex-wrap place-items-center items-start gap-2",children:$.map(e=>(0,s.jsx)("button",{type:"button",onClick:r=>{r.stopPropagation(),a({search:e})},className:"cursor-pointer rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-600 ring-1 ring-inset ring-slate-500/10 transition-colors hover:bg-brand-50 hover:text-brand-700 hover:ring-brand-500/20 group-hover:bg-brand-50 group-hover:text-brand-700 group-hover:ring-brand-500/20 dark:bg-zinc-800 dark:text-zinc-400 dark:ring-zinc-700/50 dark:hover:bg-brand-900/30 dark:hover:text-brand-300 dark:group-hover:bg-brand-900/30 dark:group-hover:text-brand-300",children:e},e))}),(0,s.jsx)("div",{className:"grid transition-all duration-300 ease-in-out ".concat(t?"mt-4 grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"),children:(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"rounded-lg border border-gray-100 bg-gray-50/50 p-4 dark:border-zinc-800 dark:bg-zinc-800/30",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Total Downloads"}),(0,s.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-zinc-100",children:D}),(0,s.jsx)("div",{className:"mt-1 flex flex-col gap-1"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Last Updated"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-zinc-100",children:V}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:L})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Authors"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-zinc-100",children:r.authors||"—"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Platforms"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Windows",active:z(c.x$.Windows)}),(0,s.jsx)(S,{label:"Mac",active:z(c.x$.Mac)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Rhino Versions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Rhino 6",active:z(c.x$.Rhino6)}),(0,s.jsx)(S,{label:"Rhino 7",active:z(c.x$.Rhino7)}),(0,s.jsx)(S,{label:"Rhino 8",active:z(c.x$.Rhino8)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Plugin Type"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Rhino",active:z(c.x$.Rhino)}),(0,s.jsx)(S,{label:"Grasshopper",active:z(c.x$.Grasshopper)})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 border-t border-gray-200 pt-4 dark:border-zinc-700",children:[(0,s.jsxs)("a",{href:C,className:"inline-flex items-center gap-1.5 rounded-md bg-brand-500 px-3.5 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-brand-600 active:bg-brand-700 dark:bg-brand-600 dark:hover:bg-brand-500",children:[(0,s.jsx)(k.Z,{className:"h-4 w-4"}),"Install in Rhino"]}),r.homepageUrl&&"#"!==r.homepageUrl&&(0,s.jsxs)("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-md bg-white px-3.5 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 transition-all hover:bg-gray-50 active:bg-gray-100 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700 dark:hover:bg-zinc-700",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4"}),"Homepage"]})]}),l&&l.length>0&&(0,s.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-4 dark:border-zinc-700",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-zinc-100",children:"Version History"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-zinc-400",children:[(0,s.jsx)("input",{type:"checkbox",checked:g,onChange:e=>m(e.target.checked),className:"rounded border-gray-300 text-brand-600 focus:ring-brand-600 dark:border-zinc-600 dark:bg-zinc-800 dark:checked:bg-brand-500"}),"Show pre-releases"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-600 dark:text-zinc-400",children:[(0,s.jsx)("thead",{className:"bg-gray-100 text-xs font-medium uppercase text-gray-500 dark:bg-zinc-800/50 dark:text-zinc-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"rounded-tl-md px-4 py-2",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Version"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Platforms"}),(0,s.jsx)("th",{className:"rounded-tr-md px-4 py-2 text-right",children:"Install"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-700/50",children:T.map(e=>{let t=new Date(e.createdAt).toLocaleDateString(),n=Array.from(new Set(e.distributions.map(e=>null==e?void 0:e.platform).filter(e=>"string"==typeof e&&e.length>0))),a=Array.from(new Set(e.distributions.map(e=>null==e?void 0:e.rhinoVersion).filter(e=>"string"==typeof e&&e.length>0))).map(e=>{let r=e.replace(/^rh/,"").replace("_",".");return{raw:e,label:"Rhino ".concat(r),url:"https://rhinoversions.github.io/?v=".concat(encodeURIComponent(r))}});return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/30",children:[(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-xs",children:t}),(0,s.jsxs)("td",{className:"px-4 py-2 font-mono text-xs",children:[e.version,e.prerelease&&(0,s.jsx)("span",{className:"ml-2 rounded-full bg-brand-50 px-1.5 py-0.5 text-[0.6rem] font-medium text-brand-700 dark:bg-brand-900/30 dark:text-brand-400",children:"Pre-release"})]}),(0,s.jsx)("td",{className:"px-4 py-2",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[n.map(e=>(0,s.jsx)("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-[0.65rem] font-medium text-gray-600 dark:bg-zinc-800 dark:text-zinc-400",children:"mac"===e?"Mac":"Windows"},e)),a.map(e=>(0,s.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",title:"Open ".concat(e.label," on RhinoVersions"),className:"inline-flex items-center gap-1 rounded border border-blue-200 bg-blue-50 px-1.5 py-0.5 text-[0.65rem] font-semibold text-blue-700 underline decoration-solid underline-offset-2 transition-colors hover:bg-blue-100 hover:text-blue-800 dark:border-blue-700/50 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50 dark:hover:text-blue-200",children:[e.label,(0,s.jsx)("span",{"aria-hidden":"true",className:"text-[0.6rem]",children:"↗"})]},e.raw))]})}),(0,s.jsx)("td",{className:"px-4 py-2 text-right",children:(0,s.jsxs)("a",{href:"rhino://package/search?name=".concat(r.id).concat(e.installVersion?"&version=".concat(e.installVersion):""),className:"inline-flex items-center gap-1 rounded bg-brand-50 px-2 py-1 text-xs font-medium text-brand-700 transition-colors hover:bg-brand-100 dark:bg-brand-900/20 dark:text-brand-400 dark:hover:bg-brand-900/40",children:[(0,s.jsx)(k.Z,{className:"h-3 w-3"}),"Install"]})})]},"".concat(e.version,"-").concat(e.createdAt))})})]})})]})]})})})]})}function S(e){let{label:r,active:t}=e;return(0,s.jsxs)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ".concat(t?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-900/30 dark:text-green-400 dark:ring-green-500/20":"bg-gray-50 text-gray-500 ring-gray-500/10 dark:bg-zinc-800 dark:text-zinc-500 dark:ring-zinc-700/50"),children:[t?"✓ ":"",r]})}function M(e){let{isEnabled:r,src:t,alt:n}=e,a=t.endsWith(".svg");return(0,s.jsx)(p(),{className:"h-[1.2rem] w-[1.2rem] ".concat(a?"dark:invert":"dark:brightness-110").concat(r?"":" opacity-25"),src:t,width:32,height:32,alt:n})}var C=t(8360);function $(){return(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-r-white motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"})}var V=t(1712),D=t(7054);function L(){let{controls:e,owners:r,navigate:t}=h(),[n,a]=(0,i.useState)(r),l=(0,i.useMemo)(()=>{var t;return e.owner&&null!==(t=r.find(r=>r.id===e.owner))&&void 0!==t?t:null},[e.owner,r]);return(0,s.jsx)(D.h,{as:"div",value:l,onChange:e=>t({owner:null==e?void 0:e.id}),nullable:!0,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(D.h.Input,{className:"w-full rounded-md border-0 bg-white py-2 pl-3 pr-10 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500",placeholder:"Search for author...",displayValue:e=>{var r;return null!==(r=null==e?void 0:e.name)&&void 0!==r?r:""},onFocus:()=>a(r),onChange:e=>{let t=e.target.value;a(r.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())))}}),(0,s.jsx)(D.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:(0,s.jsx)(V.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})}),n.length>0&&(0,s.jsx)(D.h.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-xs shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-zinc-800 dark:ring-white/10",children:n.map(e=>(0,s.jsx)(D.h.Option,{value:e,className:e=>{let{selected:r,active:t}=e;return"truncate py-2 pl-3 cursor-pointer\n                    ".concat(t?"bg-brand-500 text-white dark:bg-brand-600":"text-gray-900 dark:text-zinc-300","\n                    ").concat(r?"font-semibold text-brand-700 dark:text-brand-400":"font-normal")},children:e.name},e.id))})]})})}function T(){let{navigate:e,status:r}=h();return(0,s.jsxs)("form",{action:()=>e({}),className:"sticky top-6 flex w-[12rem] flex-shrink-0 flex-col items-start gap-3",children:[(0,s.jsx)(_,{}),(0,s.jsx)(L,{}),(0,s.jsx)(P,{}),(0,s.jsx)(A,{}),(0,s.jsx)(E,{title:"Windows",icon:"/icons/win.svg",filter:c.x$.Windows}),(0,s.jsx)(E,{title:"Mac",icon:"/icons/mac.svg",filter:c.x$.Mac}),(0,s.jsx)(A,{}),(0,s.jsx)(E,{title:"Rhino 6",icon:"/icons/rhino6.png",filter:c.x$.Rhino6}),(0,s.jsx)(E,{title:"Rhino 7",icon:"/icons/rhino7.png",filter:c.x$.Rhino7}),(0,s.jsx)(E,{title:"Rhino 8",icon:"/icons/rhino8.png",filter:c.x$.Rhino8}),(0,s.jsx)(A,{}),(0,s.jsx)(E,{title:"Rhino plugin",icon:"/icons/rhp.png",filter:c.x$.Rhino}),(0,s.jsx)(E,{title:"Grasshopper",icon:"/icons/gha.png",filter:c.x$.Grasshopper}),(0,s.jsx)("button",{type:"button",onClick:()=>e(x),className:"mt-6 flex w-full items-center justify-center rounded-md bg-white px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-colors hover:bg-gray-50 active:bg-gray-200 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700 dark:hover:bg-zinc-700 dark:active:bg-zinc-600",children:"Reset filters"}),(0,s.jsxs)("a",{href:"https://rhinoversions.github.io",target:"_blank",rel:"noopener noreferrer",className:"mt-2 flex w-full items-center justify-center gap-2 rounded-md border border-dashed border-gray-300 px-3 py-2 text-xs font-medium text-gray-500 transition-all hover:border-brand-500 hover:text-brand-600 dark:border-zinc-700 dark:text-zinc-400 dark:hover:border-brand-500 dark:hover:text-brand-400",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"h-4 w-4",children:(0,s.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})}),"Version Archive"]}),(0,s.jsxs)("div",{className:"mt-6 flex min-h-[2.5rem] min-w-[2.5rem] flex-col items-center self-center",children:[r.isLoading&&(0,s.jsx)($,{}),r.isError&&(0,s.jsx)("p",{className:"text-center text-red-500 dark:text-red-400",children:r.message})]})]})}function A(){return(0,s.jsx)("hr",{className:"my-4 h-px w-full border-none bg-gray-200 dark:bg-zinc-800"})}function E(e){let{title:r,icon:t,filter:n}=e,{navigateFilter:a,controls:l}=h(),o=t.endsWith(".svg");return(0,s.jsxs)(C.r.Group,{as:"div",className:"flex w-full items-center justify-between",children:[(0,s.jsxs)(C.r.Label,{as:"label",className:"flex cursor-pointer items-center gap-2 pr-6",children:[(0,s.jsx)(p(),{className:"inline h-[1.2rem] w-[1.2rem] opacity-80 ".concat(o?"dark:invert":""),src:t,width:32,height:32,alt:r}),(0,s.jsx)("span",{className:"text-right text-sm text-gray-900 select-none dark:text-zinc-300",children:r})]}),(0,s.jsx)(C.r,{as:i.Fragment,checked:n===(l.filters&n),onChange:e=>a(n,e),children:e=>{let{checked:r}=e;return(0,s.jsx)("button",{type:"button",className:"".concat(r?"bg-brand-500 dark:bg-brand-600":"bg-gray-200 dark:bg-zinc-700"," relative inline-flex h-5 w-11 cursor-pointer rounded-full border-[0.125rem] border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:focus:ring-offset-zinc-950"),children:(0,s.jsx)("span",{"aria-hidden":"true",className:"".concat(r?"translate-x-6":"translate-x-0"," pointer-events-none absolute inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})})}})]})}function _(){let{controls:e,navigate:r}=h(),[t,n]=(0,i.useState)(e.search);return(0,i.useEffect)(()=>{let n=setTimeout(()=>{t!==e.search&&r({search:t})},300);return()=>clearTimeout(n)},[t,e.search,r]),(0,i.useEffect)(()=>{n(e.search)},[e.search]),(0,s.jsx)("div",{className:"flex w-full rounded-md shadow-sm",children:(0,s.jsx)("input",{type:"text",placeholder:"Search packages...",value:t,onChange:e=>n(e.target.value),className:"w-full rounded-md border-0 bg-white px-3 py-2 text-sm text-gray-900 ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500"})})}function P(){let{navigate:e,controls:r}=h();return(0,s.jsx)("div",{className:"mt-1 flex w-full flex-col",children:(0,s.jsxs)("select",{className:"rounded-md border-0 bg-white py-2 pl-3 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500",value:r.sort,onChange:r=>e({sort:Number(r.target.value)}),children:[(0,s.jsx)("option",{value:0,children:"Downloads"}),(0,s.jsx)("option",{value:1,children:"Latest updates"}),(0,s.jsx)("option",{value:2,children:"Trending"})]})})}function G(){return(0,s.jsxs)(m,{children:[(0,s.jsxs)("div",{className:"hidden items-start divide-x divide-gray-200 dark:divide-zinc-800 md:flex",children:[(0,s.jsx)("div",{className:"pr-6 pt-6",children:(0,s.jsx)(T,{})}),(0,s.jsx)("div",{className:"pl-6",children:(0,s.jsx)(N,{})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(I,{})})]})}function I(){let[e,r]=(0,i.useState)(!1),t=e?l.Z:o.Z;return(0,s.jsxs)("div",{className:"relative mt-4 flex flex-col items-start",children:[(0,s.jsx)("button",{onClick:()=>r(!e),className:"z-20",children:(0,s.jsx)(t,{className:"h-8 w-8 text-gray-400"})}),e&&(0,s.jsx)("div",{className:"absolute -left-1 -top-1 z-10 border border-gray-200 bg-white px-8 pt-10 shadow dark:border-zinc-800 dark:bg-zinc-950",children:(0,s.jsx)(T,{})}),(0,s.jsx)(N,{})]})}}},function(e){e.O(0,[644,847,971,938,744],function(){return e(e.s=5017)}),_N_E=e.O()}]);