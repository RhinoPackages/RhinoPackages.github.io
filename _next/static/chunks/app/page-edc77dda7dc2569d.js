(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5017:function(e,t,r){Promise.resolve().then(r.bind(r,1872))},9391:function(e,t,r){"use strict";r.d(t,{Gt:function(){return i},e$:function(){return o},h_:function(){return d},x$:function(){return n}});var a,n,s=r(2265);let i=25;(a=n||(n={}))[a.None=0]="None",a[a.Windows=1]="Windows",a[a.Mac=2]="Mac",a[a.Rhino=4]="Rhino",a[a.Grasshopper=8]="Grasshopper",a[a.Rhino6=16]="Rhino6",a[a.Rhino7=32]="Rhino7",a[a.Rhino8=64]="Rhino8";class l{static loading(){return new l("loading")}static idle(){return new l("idle")}get isLoading(){return"loading"===this.message}get isIdle(){return"idle"===this.message}get isError(){return!this.isIdle&&!this.isLoading}constructor(e){this.message=e}}function o(e,t){return e===(t.filters&e)}function d(){let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(l.idle());return(0,s.useEffect)(()=>{(async()=>{a(l.loading());try{let e=await fetch("/data.json");if(!e.ok){let t=await e.text();throw Error(t||e.statusText)}let r=await e.json();t(r),a(l.idle())}catch(e){a(new l(e instanceof Error?e.message:String(e)))}})()},[]),{cache:e,status:r}}},1872:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a,n,s=r(7437),i=r(2265),l=r(617),o=r(3779),d=r(4033),c=r(9391);(a=n||(n={}))[a.Downloads=0]="Downloads",a[a.Date=1]="Date",a[a.Trending=2]="Trending";let x={owner:void 0,search:"",filters:c.x$.None,sort:2,page:0,p:void 0},g=(0,i.createContext)({});function h(){return(0,i.useContext)(g)}function m(e){let{children:t}=e,r=(0,d.useSearchParams)(),a=(0,d.useRouter)(),{cache:n,status:l}=(0,c.h_)(),[o,h]=(0,i.useState)(x),m=e=>{let t={...o,...e};void 0===e.page&&(t.page=0),h(t),a.push("/".concat(function(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))a&&t.append(r,a.toString());let r=t.toString();return r?"?".concat(r):""}(t)),{scroll:!1})},p=(0,i.useMemo)(()=>{let e=function(e){var t;function r(t,r){var a;let n=parseInt(null!==(a=e.get(t))&&void 0!==a?a:"")||r;return n<0&&(n=r),n}let a=r("owner",NaN)||void 0,n=null!==(t=e.get("search"))&&void 0!==t?t:"";n.length<3&&(n="");let s=r("filters",c.x$.None);return{owner:a,search:n,filters:s,sort:r("sort",2),page:r("page",0),p:e.get("p")||void 0}}(r);return h(e),function(e,t){let{owner:r,search:a,filters:n,sort:s,page:i}=t;if(void 0!==r&&(e=e.filter(e=>e.owners.map(e=>e.id).includes(r))),a){let t=a.toLowerCase();e=e.filter(e=>e.id.toLowerCase().includes(t)||e.keywords.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}if(n!==c.x$.None&&(e=e.filter(e=>(0,c.e$)(n,e))),1===s)e=e.sort((e,t)=>e.updated<t.updated?1:-1);else if(2===s){let t=Date.now(),r=e=>{let r=(t-new Date(e.updated).getTime())/864e5;return e.downloads/Math.pow(Math.max(1,r),1.5)};e=e.sort((e,t)=>r(e)<r(t)?1:-1)}else e=e.sort((e,t)=>e.downloads<t.downloads?1:-1);return e.slice(0,(i+1)*c.Gt)}(null!=n?n:[],e)},[n,r]),u=(0,i.useMemo)(()=>{let e=new Set,t=[];for(let r of n)for(let a of r.owners)e.has(a.id)||(e.add(a.id),t.push(a));return t.sort((e,t)=>e.id-t.id)},[n]),f=(0,i.useMemo)(()=>{var e;let t=0,r=0,a=Date.now();for(let e of null!=n?n:[])t+=e.downloads,(a-new Date(e.updated).getTime())/864e5<=30&&r++;return{totalPackages:null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0,totalDownloads:t,recentUpdates:r}},[n]);return(0,s.jsx)(g.Provider,{value:{packages:p,owners:u,status:l,controls:o,stats:f,navigate:m,navigateFilter:(e,t)=>{m({filters:t?o.filters|e:o.filters&~e})},setSearch:e=>{h({...o,search:e})}},children:t})}var p=r(6691),u=r.n(p),f=r(7682),b=r(8682),j=r(8377),w=r(2509),v=r(9175),k=r(5472),y=r(6936);function N(){var e,t,r,a;let{controls:n,packages:i,navigate:l,stats:o}=h(),d=null!==(e=n.p)&&void 0!==e?e:null,x=0===i.length||0===n.page&&i.length!==c.Gt;return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"mt-4 mb-4 flex flex-col items-start justify-between gap-4 rounded-xl border border-gray-200 bg-white p-4 shadow-sm dark:border-zinc-800 dark:bg-zinc-900 md:flex-row md:items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-zinc-100",children:"Packages Directory"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 dark:text-zinc-400",children:0===i.length?"No packages found matching your criteria.":"Showing page ".concat(n.page+1)})]}),(0,s.jsxs)("div",{className:"hidden divide-x divide-gray-200 text-sm dark:divide-zinc-800 md:flex",children:[(0,s.jsxs)("div",{className:"flex flex-col pr-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Total Packages"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-zinc-100",children:null!==(t=null==o?void 0:o.totalPackages.toLocaleString())&&void 0!==t?t:"-"})]}),(0,s.jsxs)("div",{className:"flex flex-col px-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Total Downloads"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900 dark:text-zinc-100",children:null!==(r=null==o?void 0:o.totalDownloads.toLocaleString())&&void 0!==r?r:"-"})]}),(0,s.jsxs)("div",{className:"flex flex-col pl-4",children:[(0,s.jsx)("span",{className:"text-gray-500 dark:text-zinc-400",children:"Updated Monthly"}),(0,s.jsx)("span",{className:"font-semibold text-brand-600 dark:text-brand-400",children:null!==(a=null==o?void 0:o.recentUpdates.toLocaleString())&&void 0!==a?a:"-"})]})]})]}),(0,s.jsx)("ul",{role:"list",className:"flex flex-grow flex-col gap-5",children:i.map(e=>(0,s.jsx)(R,{pkg:e,isExpanded:d===e.id,onToggle:()=>l({p:d===e.id?void 0:e.id})},e.id))}),!x&&(0,s.jsx)(z,{onIntersect:()=>l({page:n.page+1})})]})}function z(e){let{onIntersect:t}=e,[r,a]=(0,i.useState)(null),[n,l]=(0,i.useState)(!1),{controls:o,packages:d}=h(),x=d.length>=(o.page+1)*c.Gt;return(0,i.useEffect)(()=>{if(!r||n||!x)return;let e=new IntersectionObserver(e=>{let[r]=e;r.isIntersecting&&(l(!0),t(),setTimeout(()=>l(!1),1500))},{threshold:.1,rootMargin:"100px"});return e.observe(r),()=>e.disconnect()},[r,t,n,x,o.page]),(0,s.jsx)("div",{ref:a,className:"h-10 w-full"})}function R(e){let{pkg:t,isExpanded:r,onToggle:a}=e,{navigate:n}=h(),[l,o]=(0,i.useState)(null),[d,x]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[p,N]=(0,i.useState)(!1);function z(e){return e===(t.filters&e)}(0,i.useEffect)(()=>{r&&null===l&&(x(!0),fetch("./data/versions/".concat(t.id,".json")).then(e=>{if(!e.ok)throw Error("History not found");return e.json()}).then(e=>{o(e)}).catch(e=>{console.warn("Could not load history for ".concat(t.id,":"),e)}).finally(()=>x(!1)))},[r,t.id,l]);let R=t.homepageUrl?t.homepageUrl:"#";R.startsWith("http")||(R="//"+R);let C="rhino://package/search?name=".concat(t.id),M=t.keywords?t.keywords.split(",").map(e=>e.trim()):void 0,E=new Date(t.updated).toLocaleDateString(),L=t.downloads.toLocaleString(),D=function(e){let t=Math.floor((new Date().getTime()-e.getTime())/864e5);return 0===t?"Today":1===t?"Yesterday":t<7?"".concat(t," days ago"):t<30?"".concat(Math.floor(t/7)," week").concat(Math.floor(t/7)>1?"s":""," ago"):t<365?"".concat(Math.floor(t/30)," month").concat(Math.floor(t/30)>1?"s":""," ago"):"".concat(Math.floor(t/365)," year").concat(Math.floor(t/365)>1?"s":""," ago")}(new Date(t.updated));return(0,s.jsxs)("li",{className:"group flex flex-col overflow-hidden rounded-xl border bg-white shadow-sm transition-all duration-300 dark:bg-zinc-900/40 md:p-6 ".concat(r?"border-brand-300 shadow-md dark:border-brand-700 dark:bg-zinc-900/80":"border-gray-200 hover:-translate-y-1 hover:border-brand-300 hover:shadow-md dark:border-zinc-800 dark:hover:border-brand-700 dark:hover:bg-zinc-900/80"," p-4"),children:[(0,s.jsxs)("div",{className:"mb-2 flex cursor-pointer flex-col gap-2 md:flex-row md:gap-0",onClick:a,children:[(0,s.jsxs)("div",{className:"flex flex-grow gap-x-4",children:[(0,s.jsx)(u(),{className:"h-[2.5rem] w-[2.5rem]",src:t.iconUrl,width:40,height:40,alt:"Package icon"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:t.id}),t.prerelease&&(0,s.jsx)("span",{className:"rounded-full bg-yellow-50 px-2 py-1 text-[0.65rem] font-bold uppercase leading-none tracking-wider text-yellow-800 ring-1 ring-inset ring-yellow-600/20 dark:bg-yellow-900/30 dark:text-yellow-400 dark:ring-yellow-500/20",children:"wip"}),(0,s.jsxs)("p",{className:"whitespace-nowrap text-xs font-semibold text-gray-500 dark:text-zinc-400",children:["v",t.version]})]}),(0,s.jsx)("div",{className:"mt-1 flex items-center",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-1 whitespace-nowrap",children:[(0,s.jsx)(f.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),t.owners.map((e,r)=>(0,s.jsxs)("button",{onClick:t=>{t.stopPropagation(),n({owner:e.id})},className:"text-xs text-gray-600 transition-colors hover:text-brand-600 dark:text-zinc-400 dark:hover:text-brand-400",children:[e.name,r<t.owners.length-1?",":""]},e.id))]})})]})]}),(0,s.jsxs)("div",{className:"flex w-full flex-shrink-0 flex-grow-0 justify-between md:w-auto md:justify-end",children:[(0,s.jsxs)("div",{className:"items-top mt-1 flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)($,{isEnabled:z(c.x$.Windows),src:"/icons/win.svg",alt:"Windows"}),(0,s.jsx)($,{isEnabled:z(c.x$.Mac),src:"/icons/mac.svg",alt:"Mac"})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)($,{isEnabled:z(c.x$.Rhino6),src:"/icons/rhino6.png",alt:"Rhino 6"}),(0,s.jsx)($,{isEnabled:z(c.x$.Rhino7),src:"/icons/rhino7.png",alt:"Rhino 7"}),(0,s.jsx)($,{isEnabled:z(c.x$.Rhino8),src:"/icons/rhino8.png",alt:"Rhino 8"})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)($,{isEnabled:z(c.x$.Rhino),src:"/icons/rhp.png",alt:"Rhino plugin"}),(0,s.jsx)($,{isEnabled:z(c.x$.Grasshopper),src:"/icons/gha.png",alt:"Grasshopper plugin"})]})]}),(0,s.jsxs)("div",{className:"ml-4 flex flex-col items-end justify-start gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(b.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-zinc-400",children:L})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(j.Z,{className:"h-3.5 w-3.5 text-gray-400 dark:text-zinc-500"}),(0,s.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-zinc-400",children:E})]}),(0,s.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation();let r=new URL(window.location.href);r.searchParams.set("p",t.id),navigator.clipboard.writeText(r.toString()),N(!0),setTimeout(()=>N(!1),2e3)},title:"Copy Link",className:"mt-0.5 flex items-center gap-1 transition-all ".concat(p?"text-green-600 dark:text-green-400":"text-gray-400 hover:text-gray-600 dark:text-zinc-500 dark:hover:text-zinc-300"),children:[(0,s.jsx)(w.Z,{className:"h-3.5 w-3.5"}),p&&(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase",children:"Copied!"})]})]}),(0,s.jsx)(v.Z,{className:"ml-4 mt-1 h-5 w-5 flex-shrink-0 text-gray-400 transition-transform duration-300 dark:text-zinc-500 ".concat(r?"rotate-180":"")})]})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-start gap-4 md:gap-6",children:[(0,s.jsx)("p",{className:"break-long-words flex-grow whitespace-pre-line text-sm leading-relaxed text-gray-700 dark:text-zinc-300",children:t.description}),(0,s.jsxs)("a",{href:C,className:"hidden items-center gap-1.5 whitespace-nowrap rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-all hover:bg-gray-50 hover:shadow active:bg-gray-200 dark:bg-zinc-800 dark:text-zinc-100 dark:ring-zinc-700 dark:hover:bg-zinc-700 dark:active:bg-zinc-600 md:flex",children:[(0,s.jsx)(k.Z,{className:"h-4 w-4 text-gray-500 dark:text-zinc-400"}),"Install"]})]}),M&&M.length>0&&""!==M[0]&&(0,s.jsx)("div",{className:"mt-4 flex flex-wrap place-items-center items-start gap-2",children:M.map(e=>(0,s.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n({search:e})},className:"cursor-pointer rounded-full bg-slate-100 px-2.5 py-1 text-xs font-medium text-slate-600 ring-1 ring-inset ring-slate-500/10 transition-colors hover:bg-brand-50 hover:text-brand-700 hover:ring-brand-500/20 group-hover:bg-brand-50 group-hover:text-brand-700 group-hover:ring-brand-500/20 dark:bg-zinc-800 dark:text-zinc-400 dark:ring-zinc-700/50 dark:hover:bg-brand-900/30 dark:hover:text-brand-300 dark:group-hover:bg-brand-900/30 dark:group-hover:text-brand-300",children:e},e))}),(0,s.jsx)("div",{className:"grid transition-all duration-300 ease-in-out ".concat(r?"mt-4 grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"),children:(0,s.jsx)("div",{className:"overflow-hidden",children:(0,s.jsxs)("div",{className:"rounded-lg border border-gray-100 bg-gray-50/50 p-4 dark:border-zinc-800 dark:bg-zinc-800/30",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Total Downloads"}),(0,s.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-zinc-100",children:L}),(0,s.jsx)("div",{className:"mt-1 flex flex-col gap-1"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Last Updated"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-zinc-100",children:E}),(0,s.jsx)("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:D})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Authors"}),(0,s.jsx)("span",{className:"text-sm text-gray-900 dark:text-zinc-100",children:t.authors||"—"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Platforms"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Windows",active:z(c.x$.Windows)}),(0,s.jsx)(S,{label:"Mac",active:z(c.x$.Mac)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Rhino Versions"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Rhino 6",active:z(c.x$.Rhino6)}),(0,s.jsx)(S,{label:"Rhino 7",active:z(c.x$.Rhino7)}),(0,s.jsx)(S,{label:"Rhino 8",active:z(c.x$.Rhino8)})]})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,s.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-zinc-500",children:"Plugin Type"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(S,{label:"Rhino",active:z(c.x$.Rhino)}),(0,s.jsx)(S,{label:"Grasshopper",active:z(c.x$.Grasshopper)})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 border-t border-gray-200 pt-4 dark:border-zinc-700",children:[(0,s.jsxs)("a",{href:C,className:"inline-flex items-center gap-1.5 rounded-md bg-brand-500 px-3.5 py-2 text-sm font-semibold text-white shadow-sm transition-all hover:bg-brand-600 active:bg-brand-700 dark:bg-brand-600 dark:hover:bg-brand-500",children:[(0,s.jsx)(k.Z,{className:"h-4 w-4"}),"Install in Rhino"]}),t.homepageUrl&&"#"!==t.homepageUrl&&(0,s.jsxs)("a",{href:R,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-md bg-white px-3.5 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 transition-all hover:bg-gray-50 active:bg-gray-100 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700 dark:hover:bg-zinc-700",children:[(0,s.jsx)(y.Z,{className:"h-4 w-4"}),"Homepage"]})]}),l&&l.length>0&&(0,s.jsxs)("div",{className:"mt-6 border-t border-gray-200 pt-4 dark:border-zinc-700",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-900 dark:text-zinc-100",children:"Version History"}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-600 dark:text-zinc-400",children:[(0,s.jsx)("input",{type:"checkbox",checked:g,onChange:e=>m(e.target.checked),className:"rounded border-gray-300 text-brand-600 focus:ring-brand-600 dark:border-zinc-600 dark:bg-zinc-800 dark:checked:bg-brand-500"}),"Show pre-releases"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left text-sm text-gray-600 dark:text-zinc-400",children:[(0,s.jsx)("thead",{className:"bg-gray-100 text-xs font-medium uppercase text-gray-500 dark:bg-zinc-800/50 dark:text-zinc-500",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"rounded-tl-md px-4 py-2",children:"Date"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Version"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"Platforms"}),(0,s.jsx)("th",{className:"rounded-tr-md px-4 py-2 text-right",children:"Install"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-zinc-700/50",children:l.filter(e=>g||!e.prerelease).map(e=>{let r=new Date(e.createdAt).toLocaleDateString(),a=Array.from(new Set(e.distributions.map(e=>e.platform))),n=Array.from(new Set(e.distributions.map(e=>e.rhinoVersion.replace("rh","Rhino ").replace("_","."))));return(0,s.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-zinc-800/30",children:[(0,s.jsx)("td",{className:"whitespace-nowrap px-4 py-2 text-xs",children:r}),(0,s.jsxs)("td",{className:"px-4 py-2 font-mono text-xs",children:[e.version,e.prerelease&&(0,s.jsx)("span",{className:"ml-2 rounded-full bg-brand-50 px-1.5 py-0.5 text-[0.6rem] font-medium text-brand-700 dark:bg-brand-900/30 dark:text-brand-400",children:"Pre-release"})]}),(0,s.jsx)("td",{className:"px-4 py-2",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.map(e=>(0,s.jsx)("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-[0.65rem] font-medium text-gray-600 dark:bg-zinc-800 dark:text-zinc-400",children:"mac"===e?"Mac":"Windows"},e)),n.map(e=>(0,s.jsx)("span",{className:"rounded bg-gray-100 px-1.5 py-0.5 text-[0.65rem] font-medium text-gray-600 dark:bg-zinc-800 dark:text-zinc-400",children:e},e))]})}),(0,s.jsx)("td",{className:"px-4 py-2 text-right",children:(0,s.jsxs)("a",{href:"rhino://package/search?name=".concat(t.id,"&version=").concat(e.version),className:"inline-flex items-center gap-1 rounded bg-brand-50 px-2 py-1 text-xs font-medium text-brand-700 transition-colors hover:bg-brand-100 dark:bg-brand-900/20 dark:text-brand-400 dark:hover:bg-brand-900/40",children:[(0,s.jsx)(k.Z,{className:"h-3 w-3"}),"Install"]})})]},e.version)})})]})})]})]})})})]})}function S(e){let{label:t,active:r}=e;return(0,s.jsxs)("span",{className:"inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ".concat(r?"bg-green-50 text-green-700 ring-green-600/20 dark:bg-green-900/30 dark:text-green-400 dark:ring-green-500/20":"bg-gray-50 text-gray-500 ring-gray-500/10 dark:bg-zinc-800 dark:text-zinc-500 dark:ring-zinc-700/50"),children:[r?"✓ ":"",t]})}function $(e){let{isEnabled:t,src:r,alt:a}=e,n=r.endsWith(".svg");return(0,s.jsx)(u(),{className:"h-[1.2rem] w-[1.2rem] ".concat(n?"dark:invert":"dark:brightness-110").concat(t?"":" opacity-25"),src:r,width:32,height:32,alt:a})}var C=r(8360);function M(){return(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-r-white motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"})}var E=r(1712),L=r(7054);function D(){let{controls:e,owners:t,navigate:r}=h(),[a,n]=(0,i.useState)(t),l=(0,i.useMemo)(()=>{var r;return e.owner&&null!==(r=t.find(t=>t.id===e.owner))&&void 0!==r?r:null},[e.owner,t]);return(0,s.jsx)(L.h,{as:"div",value:l,onChange:e=>r({owner:null==e?void 0:e.id}),nullable:!0,children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(L.h.Input,{className:"w-full rounded-md border-0 bg-white py-2 pl-3 pr-10 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500",placeholder:"Search for author...",displayValue:e=>{var t;return null!==(t=null==e?void 0:e.name)&&void 0!==t?t:""},onFocus:()=>n(t),onChange:e=>{let r=e.target.value;n(t.filter(e=>e.name.toLowerCase().includes(r.toLowerCase())))}}),(0,s.jsx)(L.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:(0,s.jsx)(E.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})}),a.length>0&&(0,s.jsx)(L.h.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-xs shadow-lg ring-1 ring-black ring-opacity-5 dark:bg-zinc-800 dark:ring-white/10",children:a.map(e=>(0,s.jsx)(L.h.Option,{value:e,className:e=>{let{selected:t,active:r}=e;return"truncate py-2 pl-3 cursor-pointer\n                    ".concat(r?"bg-brand-500 text-white dark:bg-brand-600":"text-gray-900 dark:text-zinc-300","\n                    ").concat(t?"font-semibold text-brand-700 dark:text-brand-400":"font-normal")},children:e.name},e.id))})]})})}function T(){let{navigate:e,status:t}=h();return(0,s.jsxs)("form",{action:()=>e({}),className:"sticky top-6 flex w-[12rem] flex-shrink-0 flex-col items-start gap-3",children:[(0,s.jsx)(_,{}),(0,s.jsx)(D,{}),(0,s.jsx)(W,{}),(0,s.jsx)(P,{}),(0,s.jsx)(G,{title:"Windows",icon:"/icons/win.svg",filter:c.x$.Windows}),(0,s.jsx)(G,{title:"Mac",icon:"/icons/mac.svg",filter:c.x$.Mac}),(0,s.jsx)(P,{}),(0,s.jsx)(G,{title:"Rhino 6",icon:"/icons/rhino6.png",filter:c.x$.Rhino6}),(0,s.jsx)(G,{title:"Rhino 7",icon:"/icons/rhino7.png",filter:c.x$.Rhino7}),(0,s.jsx)(G,{title:"Rhino 8",icon:"/icons/rhino8.png",filter:c.x$.Rhino8}),(0,s.jsx)(P,{}),(0,s.jsx)(G,{title:"Rhino plugin",icon:"/icons/rhp.png",filter:c.x$.Rhino}),(0,s.jsx)(G,{title:"Grasshopper",icon:"/icons/gha.png",filter:c.x$.Grasshopper}),(0,s.jsx)("button",{type:"button",onClick:()=>e(x),className:"mt-6 flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-colors hover:bg-gray-50 active:bg-gray-200 dark:bg-zinc-800 dark:text-zinc-200 dark:ring-zinc-700 dark:hover:bg-zinc-700 dark:active:bg-zinc-600",children:"Reset filters"}),(0,s.jsxs)("div",{className:"mt-6 flex min-h-[2.5rem] min-w-[2.5rem] flex-col items-center self-center",children:[t.isLoading&&(0,s.jsx)(M,{}),t.isError&&(0,s.jsx)("p",{className:"text-center text-red-500 dark:text-red-400",children:t.message})]})]})}function P(){return(0,s.jsx)("hr",{className:"my-4 h-px w-full border-none bg-gray-200 dark:bg-zinc-800"})}function G(e){let{title:t,icon:r,filter:a}=e,{navigateFilter:n,controls:l}=h(),o=r.endsWith(".svg");return(0,s.jsxs)(C.r.Group,{as:"div",className:"flex w-full items-center justify-between",children:[(0,s.jsxs)(C.r.Label,{as:"label",className:"flex cursor-pointer items-center gap-2 pr-6",children:[(0,s.jsx)(u(),{className:"inline h-[1.2rem] w-[1.2rem] opacity-80 ".concat(o?"dark:invert":""),src:r,width:32,height:32,alt:t}),(0,s.jsx)("span",{className:"text-right text-sm text-gray-900 select-none dark:text-zinc-300",children:t})]}),(0,s.jsx)(C.r,{as:i.Fragment,checked:a===(l.filters&a),onChange:e=>n(a,e),children:e=>{let{checked:t}=e;return(0,s.jsx)("button",{type:"button",className:"".concat(t?"bg-brand-500 dark:bg-brand-600":"bg-gray-200 dark:bg-zinc-700"," relative inline-flex h-5 w-11 cursor-pointer rounded-full border-[0.125rem] border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 dark:focus:ring-offset-zinc-950"),children:(0,s.jsx)("span",{"aria-hidden":"true",className:"".concat(t?"translate-x-6":"translate-x-0"," pointer-events-none absolute inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out")})})}})]})}function _(){let{controls:e,navigate:t}=h(),[r,a]=(0,i.useState)(e.search);return(0,i.useEffect)(()=>{let a=setTimeout(()=>{r!==e.search&&t({search:r})},300);return()=>clearTimeout(a)},[r,e.search,t]),(0,i.useEffect)(()=>{a(e.search)},[e.search]),(0,s.jsx)("div",{className:"flex w-full rounded-md shadow-sm",children:(0,s.jsx)("input",{type:"text",placeholder:"Search packages...",value:r,onChange:e=>a(e.target.value),className:"w-full rounded-md border-0 bg-white px-3 py-2 text-sm text-gray-900 ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500"})})}function W(){let{navigate:e,controls:t}=h();return(0,s.jsx)("div",{className:"mt-1 flex w-full flex-col",children:(0,s.jsxs)("select",{className:"rounded-md border-0 bg-white py-2 pl-3 text-sm text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 transition-shadow focus:ring-2 focus:ring-inset focus:ring-brand-500 dark:bg-zinc-900 dark:text-zinc-100 dark:ring-zinc-700 dark:focus:ring-brand-500",value:t.sort,onChange:t=>e({sort:Number(t.target.value)}),children:[(0,s.jsx)("option",{value:0,children:"Downloads"}),(0,s.jsx)("option",{value:1,children:"Latest updates"}),(0,s.jsx)("option",{value:2,children:"Trending"})]})})}function Z(){return(0,s.jsxs)(m,{children:[(0,s.jsxs)("div",{className:"hidden items-start divide-x divide-gray-200 dark:divide-zinc-800 md:flex",children:[(0,s.jsx)("div",{className:"pr-6 pt-6",children:(0,s.jsx)(T,{})}),(0,s.jsx)("div",{className:"pl-6",children:(0,s.jsx)(N,{})})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(I,{})})]})}function I(){let[e,t]=(0,i.useState)(!1),r=e?l.Z:o.Z;return(0,s.jsxs)("div",{className:"relative mt-4 flex flex-col items-start",children:[(0,s.jsx)("button",{onClick:()=>t(!e),className:"z-20",children:(0,s.jsx)(r,{className:"h-8 w-8 text-gray-400"})}),e&&(0,s.jsx)("div",{className:"absolute -left-1 -top-1 z-10 border border-gray-200 bg-white px-8 pt-10 shadow dark:border-zinc-800 dark:bg-zinc-950",children:(0,s.jsx)(T,{})}),(0,s.jsx)(N,{})]})}}},function(e){e.O(0,[644,847,971,938,744],function(){return e(e.s=5017)}),_N_E=e.O()}]);