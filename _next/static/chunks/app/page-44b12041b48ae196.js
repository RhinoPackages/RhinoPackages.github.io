(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5017:function(e,s,t){Promise.resolve().then(t.bind(t,1872))},9391:function(e,s,t){"use strict";t.d(s,{Gt:function(){return a},e$:function(){return o},h_:function(){return c},x$:function(){return r}});var n,r,i=t(2265);let a=25;(n=r||(r={}))[n.None=0]="None",n[n.Windows=1]="Windows",n[n.Mac=2]="Mac",n[n.Rhino=4]="Rhino",n[n.Grasshopper=8]="Grasshopper",n[n.Rhino6=16]="Rhino6",n[n.Rhino7=32]="Rhino7",n[n.Rhino8=64]="Rhino8";class l{static loading(){return new l("loading")}static idle(){return new l("idle")}get isLoading(){return"loading"===this.message}get isIdle(){return"idle"===this.message}get isError(){return!this.isIdle&&!this.isLoading}constructor(e){this.message=e}}function o(e,s){return e===(s.filters&e)}function c(){let[e,s]=(0,i.useState)([]),[t,n]=(0,i.useState)(l.idle());return(0,i.useEffect)(()=>{(async()=>{n(l.loading());try{let e=await fetch("/data.json");if(!e.ok){let s=await e.text();throw Error(s||e.statusText)}let t=await e.json();s(t),n(l.idle())}catch(e){n(new l(e instanceof Error?e.message:String(e)))}})()},[]),{cache:e,status:t}}},1872:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return P}});var n,r,i=t(7437),a=t(2265),l=t(617),o=t(3779),c=t(4033),d=t(9391);(n=r||(r={}))[n.Downloads=0]="Downloads",n[n.Date=1]="Date";let x={owner:void 0,search:"",filters:d.x$.None,sort:0,page:0},h=(0,a.createContext)({});function u(){return(0,a.useContext)(h)}function g(e){let{children:s}=e,t=(0,c.useSearchParams)(),n=(0,c.useRouter)(),{cache:r,status:l}=(0,d.h_)(),[o,u]=(0,a.useState)(x),g=e=>{let s={...o,page:0,...e};u(s),n.push("/".concat(function(e){let s=new URLSearchParams;for(let[t,n]of Object.entries(e))n&&s.append(t,n.toString());let t=s.toString();return t?"?".concat(t):""}(s)))},m=(0,a.useMemo)(()=>{let e=function(e){var s;function t(s,t){var n;let r=parseInt(null!==(n=e.get(s))&&void 0!==n?n:"")||t;return r<0&&(r=t),r}let n=t("owner",NaN)||void 0,r=null!==(s=e.get("search"))&&void 0!==s?s:"";return r.length<3&&(r=""),{owner:n,search:r,filters:t("filters",d.x$.None),sort:t("sort",0),page:t("page",0)}}(t);return u(e),function(e,s){let{owner:t,search:n,filters:r,sort:i,page:a}=s;if(void 0!==t&&(e=e.filter(e=>e.owners.map(e=>e.id).includes(t))),n){let s=n.toLowerCase();e=e.filter(e=>e.id.toLowerCase().includes(s)||e.keywords.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))}return r!==d.x$.None&&(e=e.filter(e=>(0,d.e$)(r,e))),(e=1===i?e.sort((e,s)=>e.updated<s.updated?1:-1):e.sort((e,s)=>e.downloads<s.downloads?1:-1)).slice(a*d.Gt,a*d.Gt+d.Gt)}(null!=r?r:[],e)},[r,t]),f=(0,a.useMemo)(()=>{let e=new Set,s=[];for(let t of r)for(let n of t.owners)e.has(n.id)||(e.add(n.id),s.push(n));return s.sort((e,s)=>e.id-s.id)},[r]);return(0,i.jsx)(h.Provider,{value:{packages:m,owners:f,status:l,controls:o,navigate:g,navigateFilter:(e,s)=>{g({filters:s?o.filters|e:o.filters&~e})},setSearch:e=>{u({...o,search:e})}},children:s})}var m=t(6691),f=t.n(m),p=t(1327),j=t(3537),w=t(7682),v=t(8682),N=t(8377),y=t(5472);function b(){let{controls:e,packages:s,navigate:t}=u(),n=0===s.length||0===e.page&&s.length!==d.Gt;return(0,i.jsxs)("div",{className:"flex flex-col ",children:[(0,i.jsx)("ul",{role:"list",className:"flex flex-grow flex-col divide-y",children:s.map(e=>(0,i.jsx)(R,{pkg:e},e.id))}),!n&&(0,i.jsxs)("div",{className:"mx-6 flex items-center justify-between",children:[(0,i.jsxs)("button",{disabled:0===e.page,onClick:()=>t({page:e.page-1}),className:"flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-800 disabled:opacity-25 disabled:hover:text-gray-500",children:[(0,i.jsx)(p.Z,{className:"mt-[0.1rem] h-5 w-5","aria-hidden":"true"}),"Previous"]}),(0,i.jsxs)("button",{disabled:s.length!==d.Gt,onClick:()=>t({page:e.page+1}),className:"flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-800 disabled:opacity-25 disabled:hover:text-gray-500",children:["Next",(0,i.jsx)(j.Z,{className:"mt-[0.1rem] h-5 w-5","aria-hidden":"true"})]})]})]})}function R(e){let{pkg:s}=e,{navigate:t}=u();function n(e){return e===(s.filters&e)}let r=s.homepageUrl?s.homepageUrl:"#";r.startsWith("http")||(r="//"+r);let a="rhino://package/search?name=".concat(s.id),l=s.keywords?s.keywords.split(",").map(e=>e.trim()):void 0,o=new Date(s.updated).toLocaleDateString(),c=s.downloads.toLocaleString();return(0,i.jsxs)("li",{className:"flex flex-col py-6",children:[(0,i.jsxs)("div",{className:"mb-4 flex flex-col md:flex-row",children:[(0,i.jsxs)("div",{className:"flex gap-x-4",children:[(0,i.jsx)(f(),{className:"h-[2rem] w-[2rem]",src:s.iconUrl,width:32,height:32,alt:"Package icon"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("a",{href:r,target:"_blank",className:"whitespace-nowrap text-sm font-semibold text-gray-900",children:s.id}),s.prerelease&&(0,i.jsx)("span",{className:"rounded-full bg-yellow-50 px-1.5 py-1 text-[0.6rem] font-semibold leading-none text-yellow-800 ring-1 ring-inset ring-yellow-600/20",children:"wip"}),(0,i.jsx)("p",{className:"whitespace-nowrap text-xs font-normal text-gray-600",children:s.version})]}),(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-x-1 whitespace-nowrap",children:[(0,i.jsx)(w.Z,{className:"h-3 w-3 text-gray-400"}),s.owners.map((e,s)=>(0,i.jsx)("button",{onClick:()=>t({owner:e.id}),className:"text-xs text-gray-700 underline",children:e.name},e.id))]})})]})]}),(0,i.jsxs)("div",{className:"flex w-full flex-shrink-0 flex-grow justify-between md:w-auto md:justify-end",children:[(0,i.jsxs)("div",{className:"items-top mt-1 flex gap-4",children:[(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(k,{isEnabled:n(d.x$.Windows),src:"/icons/win.svg",alt:"Windows"}),(0,i.jsx)(k,{isEnabled:n(d.x$.Mac),src:"/icons/mac.svg",alt:"Mac"})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(k,{isEnabled:n(d.x$.Rhino6),src:"/icons/rhino6.png",alt:"Rhino 6"}),(0,i.jsx)(k,{isEnabled:n(d.x$.Rhino7),src:"/icons/rhino7.png",alt:"Rhino 7"}),(0,i.jsx)(k,{isEnabled:n(d.x$.Rhino8),src:"/icons/rhino8.png",alt:"Rhino 8"})]}),(0,i.jsxs)("div",{className:"flex gap-1",children:[(0,i.jsx)(k,{isEnabled:n(d.x$.Rhino),src:"/icons/rhp.png",alt:"Rhino plugin"}),(0,i.jsx)(k,{isEnabled:n(d.x$.Grasshopper),src:"/icons/gha.png",alt:"Grasshopper plugin"})]})]}),(0,i.jsxs)("div",{className:"ml-4 flex flex-col items-end",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(v.Z,{className:"h-3 w-3 text-gray-400"}),(0,i.jsx)("p",{className:"text-xs text-gray-600",children:c})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(N.Z,{className:"h-3 w-3 text-gray-400"}),(0,i.jsx)("p",{className:"text-xs text-gray-600",children:o})]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-start gap-8",children:[(0,i.jsx)("p",{className:"break-long-words flex-grow whitespace-pre-line text-xs text-gray-800",children:s.description}),(0,i.jsxs)("a",{href:a,className:"hidden items-center gap-1 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 active:bg-gray-200 md:flex",children:[(0,i.jsx)(y.Z,{className:"h-4 w-4"}),"Install"]})]}),(0,i.jsx)("div",{className:"mt-4 flex flex-wrap place-items-center items-start gap-1",children:null==l?void 0:l.map(e=>(0,i.jsx)("span",{className:"rounded-full bg-gray-50 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10",children:e},e))})]})}function k(e){let{isEnabled:s,src:t,alt:n}=e;return(0,i.jsx)(f(),{className:"h-[1.2rem] w-[1.2rem]"+(s?"":" opacity-[0.1]"),src:t,width:32,height:32,alt:n})}var C=t(8360),$=t(3575);function E(){return(0,i.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-r-white motion-reduce:animate-[spin_1.5s_linear_infinite]",role:"status"})}var L=t(1712),S=t(7054);function G(){let{controls:e,owners:s,navigate:t}=u(),[n,r]=(0,a.useState)(s),l=(0,a.useMemo)(()=>{var t;return e.owner&&null!==(t=s.find(s=>s.id===e.owner))&&void 0!==t?t:{id:-1,name:""}},[e.owner,s]);return(0,i.jsx)(S.h,{as:"div",value:l,onChange:e=>t({owner:e.id}),children:(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(S.h.Input,{className:"w-full rounded-md border-0 py-1.5 pl-3 pr-10 text-sm text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-gray-400",displayValue:e=>e.name,onFocus:()=>r(s),onChange:n=>{let i=n.target.value;i||void 0===e.owner||t({owner:void 0}),r(s.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())))}}),(0,i.jsx)(S.h.Button,{className:"absolute inset-y-0 right-0 flex items-center rounded-r-md px-2 focus:outline-none",children:(0,i.jsx)(L.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})}),n.length>0&&(0,i.jsx)(S.h.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-xs shadow-lg ring-1 ring-black ring-opacity-5",children:n.map(e=>(0,i.jsx)(S.h.Option,{value:e,className:e=>{let{selected:s,active:t}=e;return"truncate py-2 pl-3\n                    ".concat(t?"bg-gray-400 text-white":"text-gray-900","\n                    ").concat(s?"font-semibold":"font-normal")},children:e.name},e.id))})]})})}function _(){let{navigate:e,status:s}=u();return(0,i.jsxs)("form",{action:()=>e({}),className:"flex w-[10rem] flex-shrink-0 flex-col items-end gap-2",children:[(0,i.jsx)(D,{}),(0,i.jsx)(G,{}),(0,i.jsx)(W,{}),(0,i.jsx)(Z,{}),(0,i.jsx)(M,{title:"Windows",icon:"/icons/win.svg",filter:d.x$.Windows}),(0,i.jsx)(M,{title:"Mac",icon:"/icons/mac.svg",filter:d.x$.Mac}),(0,i.jsx)(Z,{}),(0,i.jsx)(M,{title:"Rhino 6",icon:"/icons/rhino6.png",filter:d.x$.Rhino6}),(0,i.jsx)(M,{title:"Rhino 7",icon:"/icons/rhino7.png",filter:d.x$.Rhino7}),(0,i.jsx)(M,{title:"Rhino 8",icon:"/icons/rhino8.png",filter:d.x$.Rhino8}),(0,i.jsx)(Z,{}),(0,i.jsx)(M,{title:"Rhino plugin",icon:"/icons/rhp.png",filter:d.x$.Rhino}),(0,i.jsx)(M,{title:"Grasshopper",icon:"/icons/gha.png",filter:d.x$.Grasshopper}),(0,i.jsx)("button",{type:"button",onClick:()=>e(x),className:"mt-6 flex items-center rounded-md bg-white px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 active:bg-gray-200",children:"Reset filters"}),(0,i.jsxs)("div",{className:"mt-6 flex min-h-[2.5rem] min-w-[2.5rem] flex-col items-center self-center",children:[s.isLoading&&(0,i.jsx)(E,{}),s.isError&&(0,i.jsx)("p",{className:"text-center text-red-500",children:s.message})]})]})}function Z(){return(0,i.jsx)("hr",{className:"my-4 h-px w-full bg-gray-200"})}function M(e){let{title:s,icon:t,filter:n}=e,{navigateFilter:r,controls:l}=u();return(0,i.jsxs)(C.r.Group,{as:"div",className:"flex",children:[(0,i.jsxs)(C.r.Label,{as:"label",className:"flex w-28 items-center gap-1",children:[(0,i.jsx)(f(),{className:"inline h-[1.2rem] w-[1.2rem]",src:t,width:32,height:32,alt:s}),(0,i.jsx)("span",{className:"text-right text-sm text-gray-900",children:s})]}),(0,i.jsx)(C.r,{as:a.Fragment,checked:n===(l.filters&n),onChange:e=>r(n,e),children:e=>{let{checked:s}=e;return(0,i.jsx)("button",{type:"button",className:"".concat(s?"bg-gray-900":"bg-gray-200"," relative inline-flex h-5 w-11 cursor-pointer rounded-full border-[0.125rem] border-transparent transition-colors duration-100 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2"),children:(0,i.jsx)("span",{"aria-hidden":"true",className:"".concat(s?"translate-x-6":"translate-x-0"," pointer-events-none absolute inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-100 ease-in-out")})})}})]})}function D(){let{controls:e,setSearch:s}=u();return(0,i.jsxs)("div",{className:"flex rounded-md",children:[(0,i.jsx)("input",{type:"text",value:e.search,onChange:e=>s(e.target.value),className:"w-full rounded-l-md border-0 px-3 py-1.5 text-sm text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-gray-400"}),(0,i.jsx)("button",{type:"submit",className:"relative -ml-px rounded-r-md px-3 ring-1 ring-inset ring-gray-300 hover:bg-gray-100",children:(0,i.jsx)($.Z,{className:"h-4 w-4 text-gray-500","aria-hidden":"true"})})]})}function W(){let{navigate:e,controls:s}=u();return(0,i.jsx)("div",{className:"flex w-full flex-col",children:(0,i.jsxs)("select",{className:" rounded-md border-0 py-1.5 pl-3 text-sm text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-gray-400",value:s.sort,onChange:s=>e({sort:Number(s.target.value)}),children:[(0,i.jsx)("option",{value:0,children:"Downloads"}),(0,i.jsx)("option",{value:1,children:"Last updated"})]})})}function P(){return(0,i.jsxs)(g,{children:[(0,i.jsxs)("div",{className:"hidden items-start divide-x md:flex",children:[(0,i.jsx)("div",{className:"pr-6 pt-6",children:(0,i.jsx)(_,{})}),(0,i.jsx)("div",{className:"pl-6",children:(0,i.jsx)(b,{})})]}),(0,i.jsx)("div",{className:"md:hidden",children:(0,i.jsx)(I,{})})]})}function I(){let[e,s]=(0,a.useState)(!1),t=e?l.Z:o.Z;return(0,i.jsxs)("div",{className:"relative mt-4 flex flex-col items-start",children:[(0,i.jsx)("button",{onClick:()=>s(!e),className:"z-20",children:(0,i.jsx)(t,{className:"h-8 w-8 text-gray-400"})}),e&&(0,i.jsx)("div",{className:"absolute -left-1 -top-1 z-10 border bg-white px-8 pt-10 shadow",children:(0,i.jsx)(_,{})}),(0,i.jsx)(b,{})]})}}},function(e){e.O(0,[489,971,938,744],function(){return e(e.s=5017)}),_N_E=e.O()}]);